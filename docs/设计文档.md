# sqlite设计文档

## 图床配置表pb_setting

| 字段    | 类型         | 空   | 默认 | 注释                              | 版本                            |
| ------- | ------------ | ---- | ---- | --------------------------------- | :-------------------------------: |
| id      | int   | 否   |      | 自增ID                            | 1+                          |
| type    | VARCHAR(20)  | 否   |      | 图床类型                          | 1+                        |
| name    | VARCHAR(50)  | 否   |      | 图床名称                          | 1+                        |
| config  | VARCHAR(255) | 是   |      | 图床配置信息，json格式            | 1+          |
| path    | VARCHAR(20)  | 否   |      | 路由跳转页面路径                  | 1+                |
| visible | tinyint(1)   | 是   | 1    | 是否在配置中可见，默认为1，即true | 1+ |

## 上传图片列表uploaded

| 字段 | 类型         | 空   | 默认 | 注释                         | 版本                       |
| ---- | ------------ | ---- | ---- | ---------------------------- | :--------------------------: |
| id   | int  | 否   |      | 自增ID                       | 1+                     |
| path | VARCHAR(255) | 否   |      | 图片上传成功后对应的相对路径 | 1+ |
| type | VARCHAR(20) | 否 | | 图床类型 | 1+ |
| info | VARCHAR(255) | 是 | | 图片信息，json格式 | 2+ |

## Sqlite升级记录

| 版本 | 描述                                             |
| ---- | ------------------------------------------------ |
| 1    | pb_setting，uploaded表初始化，增加Github图床记录 |
| 2    | uploaded新增info列，新增SM.MS图床记录            |
| 3    | 新增Gitee图床记录                                |
| 4    | 新增Qiniu图床记录                                |
| 5    | 新增阿里云OSS图床记录                            |
| 6    | 新增腾讯云COS图床记录                            |
| 7    | 新增牛图网图床记录                            |

